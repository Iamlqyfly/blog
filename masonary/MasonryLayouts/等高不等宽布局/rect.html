<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
  <style>
    section {
      display: flex;
      flex-wrap: wrap;

      div {
        width: 200px;
        margin: 5px;
        background-color: violet;
        flex-grow: 1;

        &:after {
          content: '';
          display: block;
          padding-bottom: 100%;
        }

        &:nth-last-child(9)~div {
          height: 0;
        }
      }
    }
  </style>
</head>

<body>
  <section>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
  </section>
  <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/2.5.3/less.min.js"></script>
</body>

</html>